<!-- Admin Article Form (Create/Edit) -->
<div class="p-4 md:p-6">
  <!-- Page Header -->
  <div class="flex items-center mb-6">
    <a href="/admin/articles" class="mr-4 text-gray-600 hover:text-gray-900">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
      </svg>
    </a>
    <div>
      <h1 class="text-2xl font-bold text-gray-800">
        <%= typeof article !== 'undefined' && article ? 'Edit Artikel' : 'Buat Artikel Baru' %>
      </h1>
    </div>
  </div>

  <!-- Alert Messages -->
  <% if (typeof errors !== 'undefined' && errors && errors.length > 0) { %>
  <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
    <ul class="list-disc list-inside">
      <% errors.forEach(function(error) { %>
      <li><%= error %></li>
      <% }); %>
    </ul>
  </div>
  <% } %>

  <!-- Article Form -->
  <div class="bg-white rounded-lg shadow p-6">
    <form action="<%= typeof article !== 'undefined' && article && article.id ? '/admin/articles/' + article.id + '/update' : '/admin/articles/create' %>" method="POST">
      <div class="space-y-6">
        <!-- Title -->
        <div>
          <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Judul Artikel *</label>
          <input type="text" id="title" name="title" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            value="<%= typeof article !== 'undefined' && article ? article.title : '' %>"
            placeholder="Masukkan judul artikel">
        </div>

        <!-- Content -->
        <div>
          <label for="content" class="block text-sm font-medium text-gray-700 mb-1">Konten Artikel *</label>
          <textarea id="content" name="content" rows="15" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="Tulis konten artikel di sini..."><%= typeof article !== 'undefined' && article ? article.content : '' %></textarea>
          <p class="mt-1 text-sm text-gray-500">Anda dapat menggunakan HTML dasar untuk formatting</p>
        </div>

        <!-- Image URL -->
        <div>
          <label for="image_url" class="block text-sm font-medium text-gray-700 mb-1">URL Gambar (Opsional)</label>
          <input type="url" id="image_url" name="image_url"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            value="<%= typeof article !== 'undefined' && article && article.image_url ? article.image_url : '' %>"
            placeholder="https://example.com/image.jpg">
        </div>

        <!-- Publish Status -->
        <div class="flex items-center">
          <input type="checkbox" id="is_published" name="is_published" value="1"
            class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
            <%= typeof article !== 'undefined' && article && article.is_published ? 'checked' : '' %>>
          <label for="is_published" class="ml-2 block text-sm text-gray-700">
            Publikasikan artikel (tampilkan di halaman utama)
          </label>
        </div>

        <!-- Submit Buttons -->
        <div class="flex flex-col sm:flex-row gap-3 pt-4">
          <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
            <%= typeof article !== 'undefined' && article ? 'Simpan Perubahan' : 'Buat Artikel' %>
          </button>
          <a href="/admin/articles" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-center">
            Batal
          </a>
        </div>
      </div>
    </form>
  </div>
</div>
